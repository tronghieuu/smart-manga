<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
	<th:block th:include="include :: header('Scheduled tasks in detail')" />
</head>

<body class="white-bg">
	<div class="wrapper wrapper-content animated fadeInRight ibox-content">
		To
		<form class="form-horizontal m-t" id="jobLogForm" th:if="${name =='jobLog'}">
			<div class="form-group">
				<label class="col-sm-3 control-label">Log serial number: </label>
				<div class="form-control-static" th:text="${jobLog.jobLogId}">
				</div>
			</div>
			<div class="form-group">
				<label class="col-sm-3 control-label">Task name: </label>
				<div class="form-control-static" th:text="${jobLog.jobName}">
				</div>
			</div>
			<div class="form-group">
				<label class="col-sm-3 control-label">Task grouping: </label>
				<div class="form-control-static" th:text="${@dict.getLabel('sys_job_group', jobLog.jobGroup)}">
				</div>
			</div>
			<div class="form-group">
				<label class="col-sm-3 control-label">Call target string: </label>
				<div class="form-control-static" th:text="${jobLog.invokeTarget}">
				</div>
			</div>
			<div class="form-group">
				<label class="col-sm-3 control-label">Log information: </label>
				<div class="form-control-static" th:text="${jobLog.jobMessage}">
				</div>
			</div>
			<div class="form-group">
				<label class="col-sm-3 control-label">Execution status: </label>
				<div class="form-control-static"
					th:class="${jobLog.status == '0'?'label label-primary':'label label-danger'}"
					th:text="${jobLog .status == '0'?'Normal':'Failed'}">
				</div>
			</div>
			<div class="form-group" th:style="'display:' + ${jobLog.status == '0'?'none':'block'}">
				<label class="col-sm-3 control-label">Exception information: </label>
				<div class="form-control-static" th:text="${jobLog.exceptionInfo}">
				</div>
			</div>
		</form>

		<form class="form-horizontal m-t" id="jobForm" th:if="${name == 'job'}">
			<div class="form-group">
				<label class="col-sm-3 control-label">Task number: </label>
				<div class="form-control-static" th:text="${job.jobId}">
				</div>
			</div>
			<div class="form-group">
				<label class="col-sm-3 control-label">Task name: </label>
				<div class="form-control-static" th:text="${job.jobName}">
				</div>
			</div>
			<div class="form-group">
				<label class="col-sm-3 control-label">Task grouping: </label>
				<div class="form-control-static" th:text="${job.jobGroup}">
				</div>
			</div>
			<div class="form-group">
				<label class="col-sm-3 control-label">Call target string: </label>
				<div class="form-control-static" th:text="${job.invokeTarget}">
				</div>
			</div>
			<div class="form-group">
				<label class="col-sm-3 control-label">Execute expression: </label>
				<div class="form-control-static" th:text="${job.cronExpression}">
				</div>
			</div>
			<div class="form-group">
				<label class="col-sm-3 control-label">Next execution time: </label>
				<div class="form-control-static" th:text="${#dates.format(job.nextValidTime,'yyyy-MM-dd HH:mm:ss')}">
				</div>
				</div>
				<div class="form-group">
				<label class="col-sm-3 control-label">Execution strategy: </label>
				<div class="form-control-static" th:if="${job.misfirePolicy == '0'}">default policy</div>
				<div class="form-control-static" th:if="${job.misfirePolicy == '1'}">Execute now</div>
				<div class="form-control-static" th:if="${job.misfirePolicy == '2'}">Execute once</div>
				<div class="form-control-static" th:if="${job.misfirePolicy == '3'}">Abandon execution</div>
				</div>
				<div class="form-group">
				<label class="col-sm-3 control-label">Concurrent execution: </label>
				<div class="form-control-static" th:class="${job.concurrent == '0'?'label label-primary':'label label-danger'}" th:text="${job .concurrent == '0'?'Allow':'Prohibit'}">
				</div>
				</div>
				<div class="form-group">
				<label class="col-sm-3 control-label">Execution status: </label>
				<div class="form-control-static" th:class="${job.status == '0'?'label label-primary':'label label-danger'}" th:text="${job .status == '0'?'Normal':'Pause'}">
			</div>
		</div>
	</form>
	
    </div>
</body>
</html>